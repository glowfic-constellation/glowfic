# typed: true

# DO NOT EDIT MANUALLY
# This is an autogenerated file for types exported from the `seed_dump` gem.
# Please instead update this file by running `bin/tapioca gem seed_dump`.


# source://seed_dump//lib/seed_dump/dump_methods/enumeration.rb#1
class SeedDump
  extend ::SeedDump::Environment
  extend ::SeedDump::DumpMethods::Enumeration
  extend ::SeedDump::DumpMethods
end

# Provides the core logic for dumping records.
#
# source://seed_dump//lib/seed_dump/dump_methods/enumeration.rb#2
module SeedDump::DumpMethods
  include ::SeedDump::DumpMethods::Enumeration

  # Dumps a collection of records to a string or file.
  #
  # @option options
  # @option options
  # @option options
  # @option options
  # @option options
  # @option options
  # @option options
  # @option options
  # @param options [Hash] Options for dumping.
  # @param records [ActiveRecord::Relation, Class, Array<ActiveRecord::Base>] The records to dump.
  # @return [String, nil] The dump string if :file is nil, otherwise nil.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#27
  def dump(records, options = T.unsafe(nil)); end

  private

  # Generates the string for activerecord-import options, if provided.
  #
  # @param options [Hash] Dumping options, potentially containing :import hash.
  # @return [String] Formatted options string or empty string.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#461
  def active_record_import_options(options); end

  # Gets the attribute names for the records, excluding specified ones.
  #
  # @param options [Hash] Options containing :exclude array.
  # @param records [ActiveRecord::Relation, Class, Array<ActiveRecord::Base>] The records source.
  # @return [Array<String>] Filtered attribute names.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#475
  def attribute_names(records, options); end

  # Builds an equivalent programmatic SeedDump.dump call from the options hash.
  #
  # @param options [Hash] The options used for dumping.
  # @return [String] A Ruby code snippet that would produce the same output.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#310
  def build_programmatic_command(options); end

  # Builds an equivalent rake command string from the options hash.
  #
  # @param options [Hash] The options used for dumping.
  # @return [String] A rake command that would produce the same output.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#286
  def build_rake_command(options); end

  # Extracts the correct value for CarrierWave uploader columns (issue #117).
  # CarrierWave overrides attribute getters, but record.attributes bypasses them,
  # potentially returning nil even when a file exists. This method checks if the
  # attribute has a CarrierWave uploader and returns the identifier (filename) instead.
  #
  # @param attribute [String] The attribute name.
  # @param record [ActiveRecord::Base] The record being dumped.
  # @param value [Object] The value from record.attributes.
  # @return [Object] The identifier string if CarrierWave uploader, otherwise original value.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#106
  def carrierwave_value(record, attribute, value); end

  # Formats a single attribute key-value pair or just the value for dumping.
  #
  # @param attribute [String, Symbol] The attribute name.
  # @param options [Hash] Dumping options.
  # @param value [Object] The attribute value.
  # @return [String] The formatted attribute string.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#134
  def dump_attribute(attribute, value, options); end

  # Dumps a single record to its string representation.
  #
  # @param options [Hash] Dumping options (see #dump).
  # @param record [ActiveRecord::Base] The record to dump.
  # @return [String] The string representation of the record.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#68
  def dump_record(record, options); end

  # Determines the ActiveRecord model class from the given records source.
  #
  # @param records [ActiveRecord::Relation, Class, Array<ActiveRecord::Base>] The records source.
  # @return [Class, nil] The model class or nil if indeterminable.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#518
  def model_for(records); end

  # Formats the model name for output in the generated seed file.
  # For HABTM join models (which are private constants), uses const_get syntax
  # to avoid NameError when the seeds file is loaded.
  #
  # @param model_klass [Class] The model class.
  # @return [String] The formatted model name for use in seeds.rb.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#497
  def model_name_for_output(model_klass); end

  # Recursively normalizes an Array for dumping, converting any embedded
  # Time/DateTime/Date/BigDecimal values to strings that produce valid Ruby.
  #
  # @param array [Array] The array to normalize.
  # @return [Array] A new array with normalized values.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#214
  def normalize_array_for_dump(array); end

  # Recursively normalizes a Hash for dumping, converting any embedded
  # Time/DateTime/Date/BigDecimal values to strings that produce valid Ruby.
  # This fixes issue #105 where serialized Hashes containing Time objects
  # would produce invalid Ruby like: {"changed_at" => 2016-05-25 17:00:00 UTC}
  #
  # @param hash [Hash] The hash to normalize.
  # @return [Hash] A new hash with normalized values.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#205
  def normalize_hash_for_dump(hash); end

  # Normalizes a single value for embedding in a Hash or Array dump.
  # Converts types that don't have valid .inspect output to strings.
  #
  # @param value [Object] The value to normalize.
  # @return [Object] The normalized value.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#223
  def normalize_value_for_dump(value); end

  # Opens an IO object for writing (either a File or StringIO).
  #
  # @param options [Hash] Options containing :file and :append keys.
  # @return [IO] The opened IO object (File or StringIO).
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#242
  def open_io(options); end

  # Converts a Range object to a string representation like "[start,end]" or "[start,end)".
  # Handles infinite ranges gracefully.
  #
  # @param object [Range] The range to convert.
  # @return [String] The string representation of the range.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#187
  def range_to_string(object); end

  # Converts a value to its string representation suitable for seeding.
  # Handles various data types like BigDecimal, IPAddr, Date/Time, Range, and RGeo.
  # Also recursively processes Hash and Array values to handle nested types (issue #105).
  #
  # @param value [Object] The value to convert.
  # @return [String] The inspected string representation of the value.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#146
  def value_to_s(value); end

  # Writes a comment header to the IO stream if the :header option is true,
  # a file is being written (not StringIO), and we're not appending.
  # This helps with traceability by showing when and how the seed file was generated (issue #126).
  #
  # @param io [IO] The IO object to write to.
  # @param options [Hash] Dumping options.
  # @return [void]
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#263
  def write_header_comment(io, options); end

  # Writes records for a single model class.
  #
  # @param io [IO] The IO object to write to.
  # @param model_klass [Class] The model class to use for output.
  # @param options [Hash] Dumping options.
  # @param records [ActiveRecord::Relation, Class, Array<ActiveRecord::Base>] The records to write.
  # @return [void]
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#388
  def write_records_for_single_model(records, io, options, model_klass); end

  # Writes the records to the given IO object, handling batching and formatting.
  #
  # Each batch is written as a separate method call (create!, import, insert_all, or upsert_all).
  # This addresses issue #127 where BATCH_SIZE was not producing separate calls.
  #
  # @param io [IO] The IO object to write to (File or StringIO).
  # @param options [Hash] Dumping options.
  # @param records [ActiveRecord::Relation, Class, Array<ActiveRecord::Base>] The records to write.
  # @return [void] This method now only writes to the IO. Reading happens in #dump.
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#349
  def write_records_to_io(records, io, options); end

  # Writes STI records grouped by their actual class (issue #170).
  #
  # When STI models have different enum definitions, dumping via the base class
  # causes enum values to be lost. This method groups records by their actual
  # class and dumps each group separately.
  #
  # @param io [IO] The IO object to write to.
  # @param model_klass [Class] The base model class.
  # @param options [Hash] Dumping options.
  # @param records [ActiveRecord::Relation, Class] The records to write.
  # @return [void]
  #
  # source://seed_dump//lib/seed_dump/dump_methods.rb#435
  def write_sti_records_grouped_by_class(records, io, options, model_klass); end
end

# source://seed_dump//lib/seed_dump/dump_methods/enumeration.rb#3
module SeedDump::DumpMethods::Enumeration
  # source://seed_dump//lib/seed_dump/dump_methods/enumeration.rb#4
  def active_record_enumeration(records, io, options); end

  # source://seed_dump//lib/seed_dump/dump_methods/enumeration.rb#58
  def batch_params_from(records, options); end

  # source://seed_dump//lib/seed_dump/dump_methods/enumeration.rb#74
  def batch_size_from(records, options); end

  # source://seed_dump//lib/seed_dump/dump_methods/enumeration.rb#37
  def enumerable_enumeration(records, io, options); end
end

# source://seed_dump//lib/seed_dump/environment.rb#2
module SeedDump::Environment
  # source://seed_dump//lib/seed_dump/environment.rb#4
  def dump_using_environment(env = T.unsafe(nil)); end

  private

  # Internal: Deduplicates HABTM models that share the same table.
  #
  # When using has_and_belongs_to_many, Rails creates auto-generated models
  # like User::HABTM_Roles and Role::HABTM_Users that both reference the same
  # join table. Without deduplication, the join table data would be dumped twice.
  #
  # models - Array of ActiveRecord model classes.
  #
  # Returns the Array with duplicate HABTM models removed.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#125
  def deduplicate_habtm_models(models); end

  # Internal: Deduplicates STI models that share the same table.
  #
  # With Single Table Inheritance, subclasses like AdminUser < User share the
  # same database table as their parent. Without deduplication, each STI class
  # would be dumped separately, creating duplicate records.
  #
  # The solution is to keep only the base class for each STI hierarchy, which
  # will include all records (base and subclass) with proper type discrimination.
  #
  # models - Array of ActiveRecord model classes.
  #
  # Returns the Array with STI subclasses removed (only base classes kept).
  #
  # source://seed_dump//lib/seed_dump/environment.rb#142
  def deduplicate_sti_models(models); end

  # Internal: Finds the models that a given model depends on via belongs_to.
  #
  # model - The ActiveRecord model class to find dependencies for.
  # model_by_table - Hash mapping table names to model classes.
  #
  # Returns an Array of model classes that this model depends on.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#190
  def find_model_dependencies(model, model_by_table); end

  # Internal: Determines the limit to apply for a given model.
  #
  # Precedence:
  # 1. Per-model limit from MODEL_LIMITS (0 means unlimited)
  # 2. Global LIMIT
  # 3. nil (no limit, dump all records)
  #
  # model - The ActiveRecord model class.
  # model_limits - Hash of per-model limits from MODEL_LIMITS.
  # global_limit - The global LIMIT value (Integer or nil).
  #
  # Returns an Integer limit or nil if no limit should be applied.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#381
  def limit_for_model(model, model_limits, global_limit); end

  # Internal: Converts a model name string to a constant.
  #
  # This method handles the issue where model names ending in 's' (like "Boss")
  # were incorrectly singularized to "Bos" by older Rails versions (issue #121).
  #
  # The strategy is:
  # 1. Try camelized form first (handles "Boss", "boss", "user_profile")
  # 2. Fall back to underscore.singularize.camelize for plural table names
  #
  # model_name - String name of the model (e.g., "Boss", "boss", "users")
  #
  # Returns the Class constant for the model.
  # Raises NameError if the model cannot be found.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#323
  def model_name_to_constant(model_name); end

  # Internal: Parses a Boolean from the given value.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#430
  def parse_boolean_value(value); end

  # Internal: Returns a Boolean indicating whether the value for the "APPEND"
  # key in the given Hash is equal to the String "true" (ignoring case),
  # false if no value exists.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#257
  def retrieve_append_value(env); end

  # Internal: Retrieves an Integer from the value for the "BATCH_SIZE" key in
  # the given Hash, and nil if no such key exists.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#419
  def retrieve_batch_size_value(env); end

  # Internal: Retrieves an Array of Symbols from the value for the "EXCLUDE"
  # key from the given Hash, and nil if no such key exists.
  #
  # If INCLUDE_ALL is set to 'true', returns an empty array to disable
  # the default exclusion of id, created_at, updated_at columns. This provides
  # a cleaner alternative to EXCLUDE="" (issue #147).
  #
  # Note that explicit EXCLUDE values take precedence over INCLUDE_ALL.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#401
  def retrieve_exclude_value(env); end

  # Internal: Retrieves the value for the "FILE" key from the given Hash, and
  # 'db/seeds.rb' if no such key exists.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#413
  def retrieve_file_value(env); end

  # Internal: Returns a Boolean indicating whether the value for the "GROUP_STI_BY_CLASS"
  # key in the given Hash is equal to the String "true" (ignoring case),
  # false if no value exists. GROUP_STI_BY_CLASS groups STI records by their actual
  # class instead of base_class to fix enum issues (issue #170).
  #
  # source://seed_dump//lib/seed_dump/environment.rb#297
  def retrieve_group_sti_by_class_value(env); end

  # Internal: Returns a Boolean indicating whether the value for the "HEADER"
  # key in the given Hash is equal to the String "true" (ignoring case),
  # false if no value exists. HEADER adds a comment at the top of the seed file
  # showing when and how it was generated for traceability (issue #126).
  #
  # source://seed_dump//lib/seed_dump/environment.rb#289
  def retrieve_header_value(env); end

  # Internal: Returns a Boolean indicating whether the value for the "IMPORT"
  # key in the given Hash is equal to the String "true" (ignoring case),
  # false if  no value exists.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#264
  def retrieve_import_value(env); end

  # Internal: Returns a Boolean indicating whether the value for the "INSERT_ALL"
  # key in the given Hash is equal to the String "true" (ignoring case),
  # false if no value exists. INSERT_ALL uses Rails 6+ insert_all for faster
  # bulk inserts that bypass validations and callbacks.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#272
  def retrieve_insert_all_value(env); end

  # Internal: Retrieves an Integer from the value for the given key in
  # the given Hash, and nil if no such key exists.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#425
  def retrieve_integer_value(key, hash); end

  # Internal: Retrieves an Integer from the value for the "LIMIT" key in the
  # given Hash, and nil if no such key exists.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#340
  def retrieve_limit_value(env); end

  # Internal: Parses the MODEL_LIMITS environment variable into a Hash.
  #
  # MODEL_LIMITS allows per-model limit overrides to prevent LIMIT from
  # breaking associations (issue #142). Format: "Model1:limit1,Model2:limit2"
  #
  # A limit of 0 means "unlimited" (dump all records for that model).
  #
  # Example: MODEL_LIMITS="Teacher:0,Student:50"
  #   - Teacher: dumps all records (0 = unlimited)
  #   - Student: dumps 50 records
  #   - Other models: fall back to global LIMIT or dump all if no LIMIT set
  #
  # env - Hash of environment variables.
  #
  # Returns a Hash mapping model names (String) to limits (Integer), or
  # empty Hash if MODEL_LIMITS is not set.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#360
  def retrieve_model_limits_value(env); end

  # Internal: Retrieves an Array of Active Record model class constants to be
  # dumped.
  #
  # If a "MODEL" or "MODELS" environment variable is specified, there will be
  # an attempt to parse the environment variable String by splitting it on
  # commmas and then converting it to constant.
  #
  # Model classes that do not have corresponding database tables or database
  # records will be filtered out, as will model classes internal to Active
  # Record.
  #
  # env - Hash of environment variables from which to parse Active Record
  #       model classes. The Hash is not optional but the "MODEL" and "MODELS"
  #       keys are optional.
  #
  # Returns the Array of Active Record model classes to be dumped.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#64
  def retrieve_models(env); end

  # Internal: Retrieves an Array of Class constants parsed from the value for
  # the "MODELS_EXCLUDE" key in the given Hash, and an empty Array if such
  # key exists.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#304
  def retrieve_models_exclude(env); end

  # Internal: Returns a Boolean indicating whether the value for the "UPSERT_ALL"
  # key in the given Hash is equal to the String "true" (ignoring case),
  # false if no value exists. UPSERT_ALL uses Rails 6+ upsert_all to preserve
  # original record IDs, which fixes foreign key reference issues when parent
  # records have been deleted (issue #104).
  #
  # source://seed_dump//lib/seed_dump/environment.rb#281
  def retrieve_upsert_all_value(env); end

  # Internal: Sorts models by foreign key dependencies using topological sort.
  #
  # Models with foreign keys (belongs_to associations) depend on the models
  # they reference. This method ensures that referenced models are dumped
  # before the models that depend on them, preventing foreign key violations
  # when importing seeds (issues #78, #83).
  #
  # For example, if Book belongs_to Author, Author will be sorted before Book.
  #
  # Uses Kahn's algorithm for topological sorting. If there are circular
  # dependencies, the remaining models are appended in their original order.
  #
  # models - Array of ActiveRecord model classes to sort.
  #
  # Returns a new Array with models sorted by dependencies (dependencies first).
  #
  # source://seed_dump//lib/seed_dump/environment.rb#166
  def sort_models_by_dependencies(models); end

  # Internal: Performs topological sort on models based on their dependencies.
  #
  # Uses Kahn's algorithm:
  # 1. Find all models with no dependencies (no incoming edges)
  # 2. Add them to the result and remove them from the graph
  # 3. Repeat until all models are sorted or a cycle is detected
  #
  # models - Array of model classes.
  # dependencies - Hash mapping each model to its dependencies.
  #
  # Returns an Array of models in topologically sorted order.
  #
  # source://seed_dump//lib/seed_dump/environment.rb#226
  def topological_sort(models, dependencies); end
end

# Internal: Array of Strings corresponding to Active Record model class names
# that should be excluded from the dump.
#
# source://seed_dump//lib/seed_dump/environment.rb#45
SeedDump::Environment::ACTIVE_RECORD_INTERNAL_MODELS = T.let(T.unsafe(nil), Array)

# source://seed_dump//lib/seed_dump/railtie.rb#2
class SeedDump::Railtie < ::Rails::Railtie; end
