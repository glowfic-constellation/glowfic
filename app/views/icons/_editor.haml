.icons-box
  = icon_tag f.object, id: "icon-#{f.object.id}"
  = f.hidden_field :id
  = loading_tag class: 'hidden', id: "loading-#{f.object.id}"
%table.form-table.alternating.icon-edit-table
  %tbody
    %tr.gallery-icon-url{id: "icon-row-#{f.object.id}"}
      %td.centered URL
      %td
        .icon_conf{class: ('hidden' unless f.object.uploaded?)}
          = image_tag "icons/accept.png", class: 'vmid', alt: ''
          Uploaded to site
        .icon_url_field{class: ('hidden' if f.object.uploaded?)}
          = f.text_field :url, placeholder: "URL", class: 'text'
        = f.hidden_field :s3_key
    %tr.gallery-icon-upload
      - file_id = "icon_files_#{f.object.id}"
      %td.centered Upload
      %td= file_field_tag file_id, id: file_id, class: 'icon_files', data: {icon_id: f.object.id}
    %tr.gallery-icon-keyword
      %td.centered Keyword
      %td= f.text_field :keyword, :placeholder => "Keyword", :class => 'text'
    %tr.gallery-icon-credit
      %td.centered Credit
      %td= f.text_field :credit, :placeholder => "Credit", :class => 'text'
    - if gif.present?
      %tr.gallery-icon-remove
        %td{colspan: 2}
          = gif.check_box :_destroy
          = gif.label :_destroy, 'Remove from Gallery'
      %tr.gallery-icon-destroy
        %td{colspan: 2}
          = f.check_box :_destroy
          = f.label :_destroy, 'Delete Icon'
  %tfoot
    - if gif.nil?
      %tr.submit-row
        %th.form-table-ender{colspan: 2}
          = submit_tag "Save", class: 'button'
